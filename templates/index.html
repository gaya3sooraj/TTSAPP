<!DOCTYPE html>
<html>
<head>
    <title>TTS</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h1>Text to Speech Converter</h1>
    
    <br><br>
    <form id="textForm" method="post">
          <label for="text">Enter Text:</label>
          <br>
          <textarea id="text" name="text" rows="6" cols="50" required>{{ result }}</textarea>
          <br><br>
          <label for="language">Choose Language:</label> <br>
          <select id="language" name="language" required>
            {% set languages = {
                'af': 'Afrikaans', 'sq': 'Albanian', 'ar': 'Arabic', 'hy': 'Armenian',
                'bn': 'Bengali', 'ca': 'Catalan', 'zh': 'Chinese', 'zh-cn': 'Chinese (Mandarin/China)',
                'zh-tw': 'Chinese (Mandarin/Taiwan)', 'zh-yue': 'Chinese (Cantonese)', 'hr': 'Croatian',
                'cs': 'Czech', 'da': 'Danish', 'nl': 'Dutch', 'en': 'English', 'en-au': 'English (Australia)',
                'en-uk': 'English (United Kingdom)', 'en-us': 'English (United States)', 'eo': 'Esperanto',
                'fi': 'Finnish', 'fr': 'French', 'de': 'German', 'el': 'Greek', 'hi': 'Hindi', 'hu': 'Hungarian',
                'is': 'Icelandic', 'id': 'Indonesian', 'it': 'Italian', 'ja': 'Japanese', 'km': 'Khmer (Cambodian)',
                'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'mk': 'Macedonian', 'no': 'Norwegian', 'pl': 'Polish',
                'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'sr': 'Serbian', 'si': 'Sinhala', 'sk': 'Slovak',
                'es': 'Spanish', 'es-es': 'Spanish (Spain)', 'es-us': 'Spanish (United States)', 'sw': 'Swahili',
                'sv': 'Swedish', 'ta': 'Tamil', 'th': 'Thai', 'tr': 'Turkish', 'uk': 'Ukrainian', 'vi': 'Vietnamese',
                'cy': 'Welsh'
            } %}
            {% for code, name in languages.items() %}
                <option value="{{ code }}" {% if s == code %}selected{% endif %}>{{ name }}</option><br>
            {% endfor %}
          </select>
          <br>
          <br>
          <input type="submit" value="Convert to Speech">
      </form>

      <br><br>
      <div id="resultDiv">
        {% if result %}
          <p>Click on the play button to listen or download as mp3.</p>
          <br><br>
          <audio controls>
              <source src="{{sayit(lang=s, text=result)}}" type="audio/mpeg">
              Your browser does not support the audio element.
          </audio>
          <br><br><br>
          <a href="/">back to home</a>
          {% endif %}
      </div>


</body>
</html>
